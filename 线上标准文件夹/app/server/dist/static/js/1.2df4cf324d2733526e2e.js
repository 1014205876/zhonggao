webpackJsonp([1],{EvEq:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("7t+N"),n=a.n(s),o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mengban",class:{show:t.show}},[a("div",{staticClass:"alert"},[a("div",{staticClass:"main"},[t._v(t._s(t.remind))]),t._v(" "),a("div",{staticClass:"btn"},[t.left?a("div",{staticClass:"left",style:{color:t.leftColor},on:{click:function(e){t.btn("left",t.left,t.index)}}},[t._v(t._s(t.left))]):t._e(),t._v(" "),t.right?a("div",{staticClass:"right",style:{color:t.rightColor},on:{click:function(e){t.btn("right",t.right,t.index)}}},[t._v(t._s(t.right))]):t._e()])])])},staticRenderFns:[]};var i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"inputcom"},[a("label",[a("div",{staticClass:"name"},[t._v(t._s(t.list.name))]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.list.value,expression:"list.value"}],attrs:{type:"text",placeholder:t.list.placeholder?t.list.placeholder:"请输入",disabled:t.list.readOnly},domProps:{value:t.list.value},on:{input:function(e){e.target.composing||t.$set(t.list,"value",e.target.value)}}})])])},staticRenderFns:[]};var l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"datecom"},[a("label",[a("div",{staticClass:"name"},[t._v(t._s(t.list.name))]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.list.value,expression:"list.value"}],attrs:{type:"date",disabled:t.list.readOnly},domProps:{value:t.list.value},on:{input:function(e){e.target.composing||t.$set(t.list,"value",e.target.value)}}})])])},staticRenderFns:[]};var r={name:"Radio",data:function(){return{name:"",show:!1}},props:["list"],methods:{alertshow:function(){this.show=!0,n()("body").css({height:n()(window).height(),overflow:"hidden"})},alertclose:function(t){null!=t&&(this.name=this.list.options[t].name),this.show=!1,n()("body").css({height:"auto",overflow:"auto"})}}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"check",on:{click:t.alertshow}},[a("div",{staticClass:"name"},[t._v(t._s(t.list.name))]),t._v(" "),a("div",{staticClass:"label"},[t.list.value?a("div",{staticClass:"data"},[t._v(t._s(t.name))]):t._e(),t._v(" "),a("img",{staticClass:"right",attrs:{src:"static/img/icon/right_gray.png",alt:""}})]),t._v(" "),a("div",{staticClass:"mengban",class:{show:t.show},on:{click:function(e){if(e.stopPropagation(),e.target!==e.currentTarget)return null;t.alertclose(null)}}},[a("div",{staticClass:"alert"},[a("ul",{staticClass:"bottom"},t._l(t.list.options,function(e,s){return a("li",{key:e.id},[a("label",[a("span",[t._v(t._s(e.name))]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.list.value,expression:"list.value"}],attrs:{name:t.list.fieldType,type:"radio",disabled:t.list.readOnly},domProps:{value:e.value,checked:t._q(t.list.value,e.value)},on:{change:[function(a){t.$set(t.list,"value",e.value)},function(e){t.alertclose(s)}]}})])])}))])])])},staticRenderFns:[]};var d={name:"Checkcom",data:function(){return{all:!1,another:!1,num:0,show:!1}},props:["list"],watch:{list:{handler:function(t,e){this.num=t.options.length,t.value.length==t.options.length?this.all=!0:this.all=!1},deep:!0}},methods:{allchange:function(){this.all?this.list.value=this.list.options:this.list.value=[]},alertshow:function(){this.show=!0,n()("body").css({height:n()(window).height(),overflow:"hidden"})},alertclose:function(){this.show=!1,n()("body").css({height:"auto",overflow:"auto"})}}},u={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"check",on:{click:t.alertshow}},[a("div",{staticClass:"name"},[t._v(t._s(t.list.name))]),t._v(" "),a("div",{staticClass:"label"},[t.num?a("div",{staticClass:"data"},[t._v("选择"+t._s(t.num)+"项")]):t._e(),t._v(" "),a("img",{staticClass:"right",attrs:{src:"static/img/icon/right_gray.png",alt:""}})]),t._v(" "),a("div",{staticClass:"mengban",class:{show:t.show},on:{click:function(e){return e.stopPropagation(),e.target!==e.currentTarget?null:t.alertclose(e)}}},[a("div",{staticClass:"alert"},[a("ul",{staticClass:"bottom"},[t._l(t.list.options,function(e){return a("li",{key:e.id},[a("label",[t._v("\n            "+t._s(e)+"\n            "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.list.value,expression:"list.value"}],attrs:{name:t.list.fieldType,type:"checkbox",disabled:t.list.readOnly},domProps:{value:e,checked:Array.isArray(t.list.value)?t._i(t.list.value,e)>-1:t.list.value},on:{change:function(a){var s=t.list.value,n=a.target,o=!!n.checked;if(Array.isArray(s)){var i=e,l=t._i(s,i);n.checked?l<0&&t.$set(t.list,"value",s.concat([i])):l>-1&&t.$set(t.list,"value",s.slice(0,l).concat(s.slice(l+1)))}else t.$set(t.list,"value",o)}}})])])}),t._v(" "),t.list.another?a("li",[a("label",[t._v("\n            其他\n            "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.another,expression:"another"}],attrs:{name:"another",type:"checkbox"},domProps:{checked:Array.isArray(t.another)?t._i(t.another,null)>-1:t.another},on:{change:function(e){var a=t.another,s=e.target,n=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&(t.another=a.concat([null])):o>-1&&(t.another=a.slice(0,o).concat(a.slice(o+1)))}else t.another=n}}})])]):t._e(),t._v(" "),t.another?a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.list.anotherValue,expression:"list.anotherValue"}],staticClass:"another",attrs:{name:"another",rows:"2",placeholder:"请输入"},domProps:{value:t.list.anotherValue},on:{input:function(e){e.target.composing||t.$set(t.list,"anotherValue",e.target.value)}}}):t._e()],2)])])])},staticRenderFns:[]};var h={name:"Risk",data:function(){return{token:"",taskId:"",processInsId:"",pass:!1,data:{jsonObject:{outcomes:[],name:"综合审批",fields:[{layout:null,name:"综合审查结论",overrideId:!0,readOnly:!1,id:"syntheticalapproveconclusion",placeholder:null,type:"text",fieldType:"FormField",value:null,required:!0}],version:0,key:"syntheticalApprove"},claim:!0},companyinfo:{}}},components:{alert:a("VU/8")({name:"Alert",data:function(){return{show:!1}},props:["index","remind","left","leftColor","right","rightColor"],methods:{btn:function(t,e,a){this.$emit("choice",{data:t,name:e,index:a})},alertshow:function(){this.show=!0},alertclose:function(){this.show=!1}}},o,!1,function(t){a("I1Uo")},"data-v-16e26320",null).exports,inputcom:a("VU/8")({name:"Inputcom",data:function(){return{}},props:["list"],methods:{}},i,!1,function(t){a("lXFA")},"data-v-ed6cac3a",null).exports,datecom:a("VU/8")({name:"Datecom",data:function(){return{}},props:["list"],methods:{}},l,!1,function(t){a("ZPqi")},"data-v-39fb5a2e",null).exports,radiocom:a("VU/8")(r,c,!1,function(t){a("uXT0")},"data-v-15313ba4",null).exports,checkcom:a("VU/8")(d,u,!1,function(t){a("HCuc")},"data-v-269e9936",null).exports},beforeCreate:function(){},created:function(){var t=this;t.token=localStorage.getItem("token"),t.taskId=t.$route.query.taskId,t.processInsId=t.$route.query.processInsId,t.$http({method:"get",headers:{"Content-Type":"application/json;charset=utf-8",authorization:t.token},url:"api/peak-flow/v1/flow/process/"+t.processInsId+"/variables"}).then(function(e){t.companyinfo=e.data.data,console.log(e)}).catch(function(t){console.log(t)}),t.$http({method:"get",headers:{"Content-Type":"application/json;charset=utf-8",authorization:t.token},url:"api/peak-flow/v1/flow/task/"+t.taskId+"/variables"}).then(function(e){t.data=e.data.data,document.getElementById("titleId").innerHTML=t.data.jsonObject.name,console.log(e)}).catch(function(t){console.log(t)}),t.$http({method:"post",headers:{"Content-Type":"application/json;charset=utf-8",authorization:t.token},url:"api/peak-flow/v1/flow/task/"+t.taskId,data:{action:"claim"}}).then(function(t){console.log(t)}).catch(function(t){console.log(t)})},methods:{look:function(){"预约确认"==this.data.jsonObject.name?this.$router.push({path:"/enterpriseinfo",query:{entName:this.companyinfo.entName,processInstanceId:this.processInsId}}):"风控审批"==this.data.jsonObject.name?this.$router.push({path:"/report",query:{title:"客户信息报告",type:"customer",processInstanceId:this.processInsId}}):"综合审批"==this.data.jsonObject.name?this.$router.push({path:"/report",query:{title:"信息采集报告",type:"collection",processInstanceId:this.processInsId}}):this.$router.push({path:"/report",query:{title:"综合审批报告",type:"comprehensive",processInstanceId:this.processInsId}})},toapprovalRecord:function(){this.$router.push({path:"/approvalRecord",query:{taskId:this.taskId,processInsId:this.processInsId}})},submit:function(t){this.pass=t,this.forEach(this),this.over?this.$refs.alert2.alertshow():this.$refs.alert1.alertshow()},forEach:function(t){t.over=!1;for(var e=0;e<t.data.jsonObject.fields.length;e++)t.data.jsonObject.fields[e].required&&(t.data.jsonObject.fields[e].value?n()(".approval .form>li").eq(e).removeClass("no"):(n()(".approval .form>li").eq(e).addClass("no"),t.over=!0))},choice:function(t){console.log("选择是否通过");var e=this;if(console.log("点击"+t.data),"left"==t.data&&console.log("不提交"),"right"==t.data){console.log(e.data);for(var a={action:"complete"},s=0;s<e.data.jsonObject.fields.length;s++)a[e.data.jsonObject.fields[s].id]=e.data.jsonObject.fields[s].value;e.$http({method:"post",headers:{"Content-Type":"application/json;charset=utf-8",authorization:e.token},url:"api/peak-flow/v1/flow/task/"+e.taskId,data:a}).then(function(t){console.log(t),e.$router.push("/index"),console.log("提交成功")}).catch(function(t){console.log(t),console.log("提交失败")})}e.$refs.alert1.alertclose(),e.$refs.alert2.alertclose()}}},v={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"approval"},[a("div",{staticClass:"companyinfo"},[a("div",{staticClass:"top",on:{click:t.look}},[a("div",{staticClass:"name"},[t._v(t._s(t.companyinfo.entName))]),t._v(" "),t._m(0)]),t._v(" "),a("ul",{staticClass:"data"},[a("li",[a("span",[t._v("企业法人 ：")]),t._v(t._s(t.companyinfo.legalRep))]),t._v(" "),a("li",[a("span",[t._v("任务编号 ：")]),t._v(t._s(t.companyinfo.projectNumber)+"\n      ")]),t._v(" "),a("li",[a("span",[t._v("贷款金额 ：")]),t._v(t._s(t.companyinfo.amount)+"万元\n      ")]),t._v(" "),a("li",[a("span",[t._v("贷款期限 ：")]),t._v(t._s(t.companyinfo.term)+"个月\n      ")]),t._v(" "),a("li",[a("span",[t._v("预约时间 ：")]),t._v(t._s(t.companyinfo.appointTime)+"\n      ")])])]),t._v(" "),a("div",{staticClass:"shenpi",on:{click:t.toapprovalRecord}},[t._m(1),t._v(" "),a("img",{staticClass:"right",attrs:{src:"static/img/icon/right_gray.png",alt:""}})]),t._v(" "),a("div",{staticClass:"shenpi"},[a("div",{staticClass:"left"},[a("img",{attrs:{src:"static/img/icon/task_gray.png",alt:""}}),t._v(t._s(t.data.jsonObject.name)+"\n    ")])]),t._v(" "),a("form",[a("ul",{staticClass:"form"},t._l(t.data.jsonObject.fields,function(e){return a("li",{key:e.id},["text"==e.type?a("inputcom",{attrs:{list:e}}):t._e(),t._v(" "),"dayTime"==e.type?a("datecom",{attrs:{list:e}}):t._e(),t._v(" "),"dropdown"==e.type||"radio-buttons"==e.type?a("radiocom",{attrs:{list:e}}):t._e(),t._v(" "),"check"==e.type?a("checkcom",{attrs:{list:e}}):t._e(),t._v(" "),"multi-line-text"==e.type?a("div",{staticClass:"remarks"},[a("div",{staticClass:"name"},[t._v(t._s(e.name))]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"list.value"}],attrs:{rows:"3",placeholder:e.placeholder?e.placeholder:"请输入"},domProps:{value:e.value},on:{input:function(a){a.target.composing||t.$set(e,"value",a.target.value)}}})]):t._e()],1)})),t._v(" "),a("div",{staticClass:"submit"},[a("div",{staticClass:"btn pass",staticStyle:{margin:"0 auto"},on:{click:function(e){t.submit(!0)}}},[t._v("提交")]),t._v(" "),a("alert",{ref:"alert1",attrs:{remind:"是否确定提交？",left:"取消",leftColor:"#333333",right:"确认",rightColor:"#3674B2"},on:{choice:t.choice}}),t._v(" "),a("alert",{ref:"alert2",attrs:{remind:"请补充完善信息",left:"确定",leftColor:"#3674B2"},on:{choice:t.choice}})],1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"seereport"},[this._v("\n        查看报告"),e("img",{attrs:{src:"static/img/icon/right_gray.png",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"left"},[e("img",{attrs:{src:"static/img/icon/task_gray.png",alt:""}}),this._v("审批记录\n    ")])}]};var p=a("VU/8")(h,v,!1,function(t){a("zABO")},"data-v-00afc8ce",null);e.default=p.exports},HCuc:function(t,e){},I1Uo:function(t,e){},ZPqi:function(t,e){},lXFA:function(t,e){},uXT0:function(t,e){},zABO:function(t,e){}});
//# sourceMappingURL=1.2df4cf324d2733526e2e.js.map